# Instructions

- Following Playwright test failed.
- Explain why, be concise, respect Playwright best practices.
- Provide a snippet of code with the fix, if possible.

# Test info

- Name: Tests for the employee management functionality in the OrangeHRM system >> Verify that an administrator can successfully edit an employee's details
- Location: /home/runner/work/OrangeHRM/OrangeHRM/tests/pimPage.spec.ts:73:7

# Error details

```
Error: expect(received).toBe(expected) // Object.is equality

Expected: "edited Last Name"
Received: "5TlV"
    at /home/runner/work/OrangeHRM/OrangeHRM/tests/pimPage.spec.ts:109:62
```

# Page snapshot

```yaml
- complementary:
  - navigation "Sidepanel":
    - link "client brand banner":
      - img "client brand banner"
    - textbox "Search"
    - button ""
    - separator
    - list:
      - listitem:
        - link "Admin"
      - listitem:
        - link "PIM"
      - listitem:
        - link "Leave"
      - listitem:
        - link "Time"
      - listitem:
        - link "Recruitment"
      - listitem:
        - link "My Info"
      - listitem:
        - link "Performance"
      - listitem:
        - link "Dashboard"
      - listitem:
        - link "Directory"
      - listitem:
        - link "Maintenance"
      - listitem:
        - link "Claim":
          - img
          - text: Claim
      - listitem:
        - link "Buzz"
- banner:
  - heading "PIM" [level=6]
  - link "Upgrade":
    - button "Upgrade"
  - list:
    - listitem:
      - img "profile picture"
      - paragraph: manda user
      - text: 
  - navigation "Topbar Menu":
    - list:
      - listitem: Configuration 
      - listitem:
        - link "Employee List"
      - listitem:
        - link "Add Employee"
      - listitem:
        - link "Reports"
      - button ""
- heading "Employee Information" [level=5]
- button ""
- separator
- text: Employee Name
- textbox "Type for hints..."
- text: Employee Id
- textbox
- text: Employment Status -- Select --  Include Current Employees Only  Supervisor Name
- textbox "Type for hints..."
- text: Job Title -- Select --  Sub Unit -- Select -- 
- separator
- button "Reset"
- button "Search"
- button " Add"
- separator
- text: (112) Records Found
- table:
  - rowgroup:
    - row " Id  First (& Middle) Name  Last Name  Job Title  Employment Status  Sub Unit  Supervisor  Actions":
      - columnheader "":
        - checkbox ""
        - text: 
      - columnheader "Id "
      - columnheader "First (& Middle) Name "
      - columnheader "Last Name "
      - columnheader "Job Title "
      - columnheader "Employment Status "
      - columnheader "Sub Unit "
      - columnheader "Supervisor "
      - columnheader "Actions"
  - rowgroup:
    - row " 0295 99N75 425 5TlV  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "0295"
      - cell "99N75 425"
      - cell "5TlV"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " 0312 A8DCo 4Ys 010Z  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "0312"
      - cell "A8DCo 4Ys"
      - cell "010Z"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " 01715 Amelia Brown  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "01715"
      - cell "Amelia"
      - cell "Brown"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " 972 aniket Ashok patil  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "972"
      - cell "aniket Ashok"
      - cell "patil"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " 0360 aniket t t  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "0360"
      - cell "aniket t"
      - cell "t"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " 0367 Ash J Tyson  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "0367"
      - cell "Ash J"
      - cell "Tyson"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " 0378 Ashtyn Kendall Mraz  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "0378"
      - cell "Ashtyn Kendall"
      - cell "Mraz"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " 0303 bala kumar ravi  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "0303"
      - cell "bala kumar"
      - cell "ravi"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " 0292 bmrtahvwhibmrtahvwhi hbfqkhjfqbhbfqkhjfqb  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "0292"
      - cell "bmrtahvwhibmrtahvwhi"
      - cell "hbfqkhjfqbhbfqkhjfqb"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " 0320 Charles Carter  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "0320"
      - cell "Charles"
      - cell "Carter"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " 00392 Charlotte Smith  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "00392"
      - cell "Charlotte"
      - cell "Smith"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " 0363 Christopher Mcmillan  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "0363"
      - cell "Christopher"
      - cell "Mcmillan"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " 0290 dhbrukkuzldhbrukkuzl ibuvlwtfsfibuvlwtfsf  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "0290"
      - cell "dhbrukkuzldhbrukkuzl"
      - cell "ibuvlwtfsfibuvlwtfsf"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " 0294 DHINA KARAN P  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "0294"
      - cell "DHINA KARAN"
      - cell "P"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " 0386 Dimitri Kennedy Heaney  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "0386"
      - cell "Dimitri Kennedy"
      - cell "Heaney"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " 0372 Elijah Harper Feil-Toy  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "0372"
      - cell "Elijah Harper"
      - cell "Feil-Toy"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " 09557 Emily Jones  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "09557"
      - cell "Emily"
      - cell "Jones"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " 0380 Estella Noah Mohr  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "0380"
      - cell "Estella Noah"
      - cell "Mohr"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " 1235 FName Mname LName  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "1235"
      - cell "FName Mname"
      - cell "LName"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " ATPValue ftdkux ltsxgy  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "ATPValue"
      - cell "ftdkux"
      - cell "ltsxgy"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " ATPValue fthnvn ltwrrt  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "ATPValue"
      - cell "fthnvn"
      - cell "ltwrrt"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " ATPValue fthnvn ltwrrt  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "ATPValue"
      - cell "fthnvn"
      - cell "ltwrrt"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " ATPValue fthyfv ltrhtm  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "ATPValue"
      - cell "fthyfv"
      - cell "ltrhtm"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " ATPValue ftioiu ltpugr  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "ATPValue"
      - cell "ftioiu"
      - cell "ltpugr"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " ATPValue ftioiu ltpugr  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "ATPValue"
      - cell "ftioiu"
      - cell "ltpugr"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " ATPValue ftioiu ltpugr  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "ATPValue"
      - cell "ftioiu"
      - cell "ltpugr"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " ATPValue ftioiu ltpugr  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "ATPValue"
      - cell "ftioiu"
      - cell "ltpugr"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " ATPValue ftndlm ltdyyf  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "ATPValue"
      - cell "ftndlm"
      - cell "ltdyyf"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " ATPValue ftpjte ltpzkj  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "ATPValue"
      - cell "ftpjte"
      - cell "ltpzkj"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " ATPValue ftyseo ltzbbp  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "ATPValue"
      - cell "ftyseo"
      - cell "ltzbbp"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " ATPValue ftyseo ltzbbp  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "ATPValue"
      - cell "ftyseo"
      - cell "ltzbbp"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " ATPValue ftyseo ltzbbp  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "ATPValue"
      - cell "ftyseo"
      - cell "ltzbbp"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " ATPValue ftyseo ltzbbp  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "ATPValue"
      - cell "ftyseo"
      - cell "ltzbbp"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " ATPValue ftyseo ltzbbp  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "ATPValue"
      - cell "ftyseo"
      - cell "ltzbbp"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " ATPValue ftyseo ltzbbp  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "ATPValue"
      - cell "ftyseo"
      - cell "ltzbbp"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " 0382 Haylee Kennedy Barrows  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "0382"
      - cell "Haylee Kennedy"
      - cell "Barrows"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " 0315hh hh hh  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "0315hh"
      - cell "hh"
      - cell "hh"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " 0365 James Butler  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "0365"
      - cell "James"
      - cell "Butler"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " 0383 Jayme Micah Hermiston-Hyatt  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "0383"
      - cell "Jayme Micah"
      - cell "Hermiston-Hyatt"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " 0379 Joannie Billie Corkery  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "0379"
      - cell "Joannie Billie"
      - cell "Corkery"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " 0367010 Jobin Mathew Sam  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "0367010"
      - cell "Jobin Mathew"
      - cell "Sam"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " 87453 John Smith  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "87453"
      - cell "John"
      - cell "Smith"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " 0361 Joseph Evans  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "0361"
      - cell "Joseph"
      - cell "Evans"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " 0342 Joy Smith  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "0342"
      - cell "Joy"
      - cell "Smith"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " 0323 Joy Smith  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "0323"
      - cell "Joy"
      - cell "Smith"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " 0317 Joy Smith  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "0317"
      - cell "Joy"
      - cell "Smith"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " 0322 Joy Smith  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "0322"
      - cell "Joy"
      - cell "Smith"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " 0359 Joy Smith  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "0359"
      - cell "Joy"
      - cell "Smith"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " 0321 Joy Smith  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "0321"
      - cell "Joy"
      - cell "Smith"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
    - row " 0335 Joy Smith  ":
      - cell "":
        - checkbox ""
        - text: 
      - cell "0335"
      - cell "Joy"
      - cell "Smith"
      - cell
      - cell
      - cell
      - cell
      - cell " ":
        - button ""
        - button ""
- navigation "Pagination Navigation":
  - list:
    - listitem:
      - button "1"
    - listitem:
      - button "2"
    - listitem:
      - button "3"
    - listitem:
      - button ""
- paragraph: OrangeHRM OS 5.7
- paragraph:
  - text: © 2005 - 2025
  - link "OrangeHRM, Inc"
  - text: . All rights reserved.
```

# Test source

```ts
   9 | const genUser = userTestData();
   10 |
   11 | test.describe('Tests for the employee management functionality in the OrangeHRM system', () => {
   12 |
   13 |   test.beforeEach(async ({ page }: { page: Page }) => {
   14 |     const loginPage = new LoginPage(page);
   15 |     await loginPage.gotoLoginPage();
   16 |     await loginPage.fillUsernameField(genUser.adminUsername);
   17 |     await loginPage.fillPasswordField(genUser.adminPassword);
   18 |     await loginPage.clickLoginButton();
   19 |   });
   20 |
   21 |   test('Adding a New Employee from Administrator account', async ({ page }: { page: Page }) => {
   22 |     const pimPage = new PIMPage(page);
   23 |
   24 |     await pimPage.clickButtonPIM();
   25 |     await pimPage.clickAddEmployeeButton();
   26 |     await pimPage.clickEmployeeAddPhotoButton();
   27 |     await pimPage.fileInput.setInputFiles(text.pimPage.filePath);
   28 |     await expect(pimPage.filePreview).toBeVisible();
   29 |
   30 |     await pimPage.fillFirstNameField(genUser.firstname);
   31 |     await pimPage.fillMiddleNameField(genUser.middlename);
   32 |     await pimPage.fillLastNameField(genUser.lastname);
   33 |     await pimPage.clickCreateLoginDetailsButton();
   34 |     await pimPage.fillUsernameField(genUser.username);
   35 |     const password = await pimPage.fillPasswordField(genUser.password);
   36 |     await pimPage.fillConfirmPasswordField(password);
   37 |     await pimPage.checkStatusEnabled();
   38 |     await pimPage.clickSaveButton();
   39 |
   40 |     await expect(await pimPage.successSavedMessage).toBeVisible();
   41 |     await expect(await pimPage.personalDetailsHeader).toContainText(text.pimPage.personalDetailsHeader);
   42 |   });
   43 |
   44 |   test('Verify that a new User can be logged in after registering as a new Employee', async ({ page }: { page: Page }) => {
   45 |     const pimPage = new PIMPage(page);
   46 |     const loginPage = new LoginPage(page);
   47 |     const basePage = new BasePage(page);
   48 |
   49 |     await pimPage.clickButtonPIM();
   50 |     await pimPage.clickAddEmployeeButton();
   51 |     await pimPage.fillFirstNameField(genUser.firstname);
   52 |     await pimPage.fillMiddleNameField(genUser.middlename);
   53 |     await pimPage.fillLastNameField(genUser.lastname);
   54 |     await pimPage.clickCreateLoginDetailsButton();
   55 |     const username = await pimPage.fillUsernameField(genUser.username);
   56 |     const password = await pimPage.fillPasswordField(genUser.password);
   57 |     await pimPage.fillConfirmPasswordField(password);
   58 |     await pimPage.checkStatusEnabled();
   59 |     await pimPage.clickSaveButton();
   60 |     await page.waitForTimeout(2000);
   61 |
   62 |     await expect(await pimPage.successSavedMessage).toBeVisible();
   63 |     await expect(await pimPage.personalDetailsHeader).toContainText(text.pimPage.personalDetailsHeader);
   64 |
   65 |     await pimPage.clickDropdownUserMenu();
   66 |     await pimPage.clickLogoutButton();
   67 |     await loginPage.fillUsernameField(username);
   68 |     await loginPage.fillPasswordField(password);
   69 |     await loginPage.clickLoginButton();
   70 |     await expect(await basePage.dashboardHeading).toContainText(text.basePage.dashboardHeading);
   71 |   });
   72 |
   73 |   test('Verify that an administrator can successfully edit an employee\'s details', async ({ page }: { page: Page }) => {
   74 |     const pimPage = new PIMPage(page);
   75 |     const loginPage = new LoginPage(page);
   76 |     const basePage = new BasePage(page);
   77 |
   78 |     await pimPage.clickButtonPIM();
   79 |     await pimPage.clickAddEmployeeButton();
   80 |     await pimPage.fillFirstNameField(genUser.firstname);
   81 |     await pimPage.fillMiddleNameField(genUser.middlename);
   82 |     await pimPage.fillLastNameField(genUser.lastname);
   83 |     await pimPage.clickCreateLoginDetailsButton();
   84 |     await pimPage.fillUsernameField(genUser.username);
   85 |     const password = await pimPage.fillPasswordField(genUser.password);
   86 |     await pimPage.fillConfirmPasswordField(password);
   87 |     await pimPage.checkStatusEnabled();
   88 |     await pimPage.clickSaveButton();
   89 |
   90 |     await expect(await pimPage.successSavedMessage).toBeVisible();
   91 |     await expect(await pimPage.personalDetailsHeader).toContainText(text.pimPage.personalDetailsHeader);
   92 |
   93 |     await pimPage.clickDropdownUserMenu();
   94 |     await pimPage.clickLogoutButton();
   95 |     await loginPage.fillUsernameField(genUser.adminUsername);
   96 |     await loginPage.fillPasswordField(genUser.adminPassword);
   97 |     await loginPage.clickLoginButton();
   98 |     await expect(await basePage.dashboardHeading).toContainText(text.basePage.dashboardHeading);
   99 |
  100 |     await pimPage.clickButtonPIM();
  101 |     await expect(page).toHaveURL(text.pimPage.url);
  102 |
  103 |     await pimPage.clickFirstPencilIconForEdit();
  104 |     const newLastName = await pimPage.editLastNameInputValue(text.pimPage.editedLastName);
  105 |     await pimPage.clickSavePersonalDetailsButton();
  106 |     await expect(await pimPage.successSavedMessage).toBeVisible();
  107 |
  108 |     await pimPage.clickEmployeeListButton();
> 109 |     await expect(await pimPage.getFirstLastNameTableValue()).toBe(newLastName);
      |                                                              ^ Error: expect(received).toBe(expected) // Object.is equality
  110 |   });
  111 |
  112 | });
  113 |
```